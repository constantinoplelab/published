# Acetylcholine demixes heterogeneous dopamine signals for learning and moving

This is the code used in [Jang, H.J., Ward, R.M., Golden C.E.M., & Constantinople, C.M. Acetylcholine demixes heterogeneous dopamine signals for learning and moving.] (ADD LINK TO PAPER).
The analyses and figures are broken into:
1. Expert rats' performance during temporal wagering task and model predictions
2. Movement tracked with DeepLabCut
3. Fiber photometry recordings of dopamine and acetylcholine in multiple striatal regions
4. Electrophysiology recordings in the dorsomedial striatum

## Quick start
1. Clone this repo (or just this folder):
   ```bash
   git clone https://github.com/constantinoplelab/published.git
   cd published/DMS_AChDA
2. Open MATLAB (tested with R2021a; other versions likely work) and add the folder to your path:
   addpath(genpath(pwd));
   savepath;
3. Install required toolboxes:
   Signal Processing Toolbox, Statistics and Machine Learning Toolbox, Curve Fitting Toolbox
4. Put data in place
   Download data from the Zenodo link provided below. Data files should be under YOUR_FOLDER/data-published/  

# Data
The data associated with this work can be found on Zenodo at: 
1. https://zenodo.org/records/17457318 (Behavioral data, electrophysiology data, DeepLabCut data)
2. https://zenodo.org/records/17458072 (Rat metadata, post-processed photometry and behavioral data)
3. https://zenodo.org/records/17458437 (DMS photometry data, single-color imaging)
4. https://zenodo.org/records/17460638 (DLS photometry data, dual-color imaging)
5. https://zenodo.org/records/17478653 (DMS photometry data, dual-color imaging)
6. (NAcc photometry data, single-color imaging)
   
For 1-3, download the zipped file in your folder and unzip.

For 4-6, follow the instructions in the link for creating a folder and download files in the folder. 

# Reproducing figures
Main figures in the manuscript can be regenerated by running the corresponding plot_fig*.m scripts in vis directory.
All scripts take 'datadir' as an input, which is the name of the folder you downloaded the data in. E.g., if your data files are under HJJ/data-published/.., type plot_fig_X('HJJ') to execute the function.






